{"version":3,"sources":["map.js"],"names":["mapSelector","querySelector","infoWindow","document","dealerLocatorList","markers","zoom","styles","lastItemClickedIndex","featureType","elementType","stylers","mapOption","color","visibility","saturation","lightness","map","title","position","locationLatLng","LatLngBounds","icon","forEach","location","google","maps","LatLng","lat","lng","bounds","extend","marker","showInfoMarkerOnMap","fitBounds","addListener","open","index","event","locations","address","phone","panTo","getPosition","setZoom","close","getLocationList","innerHTML","newMarker","createElement","classList","add","initialize","concat","Map","addMarkers","getZoom","markerIndex","getAttribute","removeListener","listener","InfoWindow","addDomListener","window"],"mappings":"aAAA,IAAIA,IAAAA,qBAAuBC,UAAcC,WAArCF,YAAcG,SAASF,cAAc,QACrCG,kBAAoBD,SAASF,cAAc,8BAD/CI,QAAA,GACID,UAAAA,CACJE,KAAA,GAAAC,OAASC,CAAAA,CAATC,YAAA,iBAAAC,YAAA,mBAAAC,QAAgE,CAAA,CAC5DC,MAAS,aAGV,CACAH,YAAA,YACAC,YAAY,MACXC,QAAA,CAAS,CADEE,MAAD,aAMX,CACAJ,YAAY,MACXC,YAAS,MADEC,QAAD,CAAA,CAVLG,WAcP,SAGC,CACCL,YAAA,OADWC,YAAD,MAjBLC,QAqBP,CAAA,CACCI,YAAe,KAEf,CACEC,UAAA,MAJH,CAYCP,YAAA,eACAC,YAAA,MACAC,QAAA,CAAW,CACVG,WAAA,gBAID,CACAL,YAAA,gBACAC,YAAY,cACXC,QAAA,CAAA,CADWG,WAAD,SAMX,CACAL,YAAY,UACXC,YAAA,MADWC,QAAD,CAAA,CAjDLG,WAqDP,SAGC,CACEL,YAAS,QADCC,YAGX,MACCC,QAAA,CAAA,CAJSE,MAAA,WA1Dd,CA8DKC,WAAc,UAahBG,WADmC,WAEnCC,QAAK,GACLC,IAAAA,EAAUC,IAAAA,OAAAA,KAHyBC,aAInCC,UAAIC,QAAEC,SAAQA,EAACF,GAJoB,IAApCF,EAAA,IAAAK,OAAAC,KAAAC,OAAAH,EAAAI,IAAAJ,EAAAK,KAMAC,EAAOC,IAAOC,OAAOb,KAAAA,OAArB,CACAd,IAAAA,IACA4B,MAAAA,EAAAA,MAVDd,SAAAC,EAaAH,KAAIiB,EAAUJ,OALbA,EAAOC,OAAOC,EAAOb,UAQvBd,QAAM4B,KAAAA,GACLR,oBAAkBU,EAAAA,KAOjBjC,IAAAA,UAAWkC,IAPZH,oBAAA,SAAAD,EAAAK,GAWAZ,OAAMC,KAANY,MAAAH,YAAAH,EAAmC,QAAS,WAC3C9B,WAAAA,WAAAA,iBAAAA,OADDqC,UAAAF,GAAAnB,MACChB,sBAAAA,OAbFqC,UAAAF,GAAAG,QAaEtC,qBAAAA,OAROqC,UAAUF,GAAOI,MAQxBvC,iBAKDM,qBAAuB6B,EACtBnC,WAAAkC,KAAAnB,IAAAe,GACAf,IAAAyB,MAAAV,EAAAW,eACA1B,IAAA2B,QAAA,MAEAnB,OAAAC,KAAAY,MAAAH,YAAAlB,IAAA,QAAA,WACAf,WAAA2C,WAIAC,gBAAA,WACA1C,oBA2BCA,kBAhBD2C,UAAA,GAiBA1C,QAAAkB,QAAA,SAAAS,EAAAK,GAxCF,IAAAW,EAAA7C,SAAA8C,cAAA,OAyBGD,EAAUE,UAAUC,IAAI,uBAkB3BH,EAAMI,UAAN,iBAAAC,OAECnD,UAAiBuB,GAAOC,MAFzB,sBAAA2B,OAGOd,UAAWb,GAAK4B,QAHvB,qBAAAD,OAICE,UAAUlB,GAAAI,MAJX,gBAMEO,EAAQQ,aAAR,YAAA,GAAAH,OAAwBhB,IACvBpB,EAAI2B,iBAAJ,QAAA,WACApC,qBAAA6B,EAhBC,IAAMoB,EAAcT,EAAUU,aAAa,aAiB7CjC,OAAOC,KAAKY,MAAMqB,QAAAA,QAAeC,GAAjC,WAEDnC,kBAAkBU,YAAYlB,OAXzBmC,WAAa,WAgBlBb,UAAInC,eACH0C,WAAAA,IAAAA,OAAepB,KAAAmC,WACf5C,IAAA,IAAAQ,OAAAC,KAAA4B,IAAAtD,YAAAY,WACD2C,aAdA,IAAIK,EAAWnC,OAAOC,KAAKY,MAAMH,YAAYlB,IAAK,OAAQ,WACrC,GAAhBA,IAAIuC,WACPvC,IAAI2B,QAAQ,IAEbnB,OAAOC,KAAKY,MAAMqB,eAAeC,KAElCnC,OAAOC,KAAKY,MAAMH,YAAYlB,IAAK,iBAAkB6B,kBAGlD9C,cACHyB,OAAOC,KAAKY,MAAMwB,eAAeC,OAAQ,OAAQX,YAC7ChD,mBACH0C","file":"map.min.js","sourcesContent":["let mapSelector = document.querySelector('#map');\r\nlet dealerLocatorList = document.querySelector('.dealer-locator-list .list');\r\nlet map, lastItemClickedIndex, locations, infoWindow, markers = [];\r\nlet mapOption = {\r\n\tzoom: 12,\r\n\tstyles: [{\r\n\t\t\t'featureType': 'administrative',\r\n\t\t\t'elementType': 'labels.text.fill',\r\n\t\t\t'stylers': [{\r\n\t\t\t\t'color': '#444444',\r\n\t\t\t}, ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t'featureType': 'landscape',\r\n\t\t\t'elementType': 'all',\r\n\t\t\t'stylers': [{\r\n\t\t\t\t'color': '#f2f2f2',\r\n\t\t\t}, ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t'featureType': 'poi',\r\n\t\t\t'elementType': 'all',\r\n\t\t\t'stylers': [{\r\n\t\t\t\t'visibility': 'off',\r\n\t\t\t}, ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t'featureType': 'road',\r\n\t\t\t'elementType': 'all',\r\n\t\t\t'stylers': [{\r\n\t\t\t\t\t'saturation': -100,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'lightness': 45,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t{\r\n\t\t\t'featureType': 'road.highway',\r\n\t\t\t'elementType': 'all',\r\n\t\t\t'stylers': [{\r\n\t\t\t\t'visibility': 'simplified',\r\n\t\t\t}, ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t'featureType': 'road.arterial',\r\n\t\t\t'elementType': 'labels.icon',\r\n\t\t\t'stylers': [{\r\n\t\t\t\t'visibility': 'off',\r\n\t\t\t}, ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t'featureType': 'transit',\r\n\t\t\t'elementType': 'all',\r\n\t\t\t'stylers': [{\r\n\t\t\t\t'visibility': 'off',\r\n\t\t\t}, ],\r\n\t\t},\r\n\t\t{\r\n\t\t\t'featureType': 'water',\r\n\t\t\t'elementType': 'all',\r\n\t\t\t'stylers': [{\r\n\t\t\t\t\t'color': '#0c6db5',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'visibility': 'on',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t],\r\n};\r\n\r\nconst addMarkers = () => {\r\n\tmarkers = [];\r\n\tconst bounds = new google.maps.LatLngBounds();\r\n\tlocations.forEach((location, index) => {\r\n\t\tlet locationLatLng = new google.maps.LatLng(location.lat, location.lng);\r\n\t\tlet marker = new google.maps.Marker({\r\n\t\t\tmap: map,\r\n\t\t\ttitle: location.title,\r\n\t\t\tposition: locationLatLng,\r\n\t\t\ticon: location.icon,\r\n\t\t});\r\n\t\tbounds.extend(marker.position);\r\n\t\tmarkers.push(marker);\r\n\t\tshowInfoMarkerOnMap(marker, index);\r\n\t});\r\n\r\n\tmap.fitBounds(bounds);\r\n};\r\n\r\nconst showInfoMarkerOnMap = (marker, index) => {\r\n\tgoogle.maps.event.addListener(marker, 'click', function() {\r\n\t\tinfoWindow.setContent(`\r\n\t\t\t\t<h3>${locations[index].title}</h3>\r\n\t\t\t\t<p>${locations[index].address}</p>\r\n\t\t\t\t<p>${locations[index].phone}</p>\r\n\t\t\t`);\r\n\t\tlastItemClickedIndex = index;\r\n\t\tinfoWindow.open(map, marker);\r\n\t\tmap.panTo(marker.getPosition());\r\n\t\tmap.setZoom(12);\r\n\t})\r\n\tgoogle.maps.event.addListener(map, 'click', function() {\r\n\t\tinfoWindow.close();\r\n\t})\r\n};\r\n\r\nconst getLocationList = () => {\r\n\tif (dealerLocatorList) {\r\n\t\t// dealerLocatorList.innerHTML = '';\r\n\t\t// markers.forEach((marker, index) => {\r\n\t\t// \tif (map.getBounds().contains(marker.getPosition())) {\r\n\t\t// \t\tconst newMarker = document.createElement('div');\r\n\t\t// \t\tnewMarker.classList.add('dealer-locator-item');\r\n\t\t// \t\tnewMarker.innerHTML = `\r\n\t\t// \t\t\t\t<h3>${locations[index].title}</h3>\r\n\t\t// \t\t\t\t<p>${locations[index].address}</p>\r\n\t\t// \t\t\t\t<p>${locations[index].phone}</p>\r\n\t\t// \t\t\t`;\r\n\t\t// \t\tnewMarker.setAttribute('marker-id', `${index}`);\r\n\t\t// \t\tnewMarker.addEventListener('click', () => {\r\n\t\t// \t\t\tlastItemClickedIndex = index;\r\n\t\t// \t\t\tconst markerIndex = newMarker.getAttribute('marker-id');\r\n\t\t// \t\t\tgoogle.maps.event.trigger(markers[markerIndex], 'click');\r\n\t\t// \t\t});\r\n\t\t// \t\tdealerLocatorList.appendChild(newMarker);\r\n\t\t// \t}\r\n\t\t// });\r\n\r\n\t\tdealerLocatorList.innerHTML = '';\r\n\t\tmarkers.forEach((marker, index) => {\r\n\t\t\tconst newMarker = document.createElement('div');\r\n\t\t\tnewMarker.classList.add('dealer-locator-item');\r\n\t\t\tnewMarker.innerHTML =\r\n\t\t\t\t`\r\n\t\t\t\t<h3>${locations[index].title}</h3>\r\n\t\t\t\t<p>${locations[index].address}</p>\r\n\t\t\t\t<p>${locations[index].phone}</p>\r\n\t\t\t`;\r\n\t\t\tnewMarker.setAttribute('marker-id', `${index}`);\r\n\t\t\tnewMarker.addEventListener('click', () => {\r\n\t\t\t\tlastItemClickedIndex = index;\r\n\t\t\t\tconst markerIndex = newMarker.getAttribute('marker-id');\r\n\t\t\t\tgoogle.maps.event.trigger(markers[markerIndex], 'click');\r\n\t\t\t});\r\n\t\t\tdealerLocatorList.appendChild(newMarker);\r\n\t\t})\r\n\t}\r\n};\r\n\r\nconst initialize = () => {\r\n\tlocations = locationsInput;\r\n\tinfoWindow = new google.maps.InfoWindow();\r\n\tmap = new google.maps.Map(mapSelector, mapOption);\r\n\taddMarkers();\r\n\tlet listener = google.maps.event.addListener(map, 'idle', () => {\r\n\t\tif (map.getZoom() > 12) {\r\n\t\t\tmap.setZoom(12);\r\n\t\t}\r\n\t\tgoogle.maps.event.removeListener(listener);\r\n\t});\r\n\tgoogle.maps.event.addListener(map, 'bounds_changed', getLocationList);\r\n};\r\n\r\nif (mapSelector) {\r\n\tgoogle.maps.event.addDomListener(window, 'load', initialize);\r\n\tif (dealerLocatorList) {\r\n\t\tgetLocationList();\r\n\t}\r\n}"]}